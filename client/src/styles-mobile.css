/* Mobile Optimization Styles */
/* Thêm vào file styles.css hiện tại */

/* ==================== MOBILE BREAKPOINTS ==================== */
@media (max-width: 640px) {
  /* Mobile-specific container adjustments */
  .container {
    @apply px-3;
  }
  
  /* Navbar mobile optimization */
  .navbar-mobile {
    @apply px-3 py-2;
  }
  
  .navbar-mobile .search-container {
    @apply hidden;
  }
  
  .navbar-mobile .mobile-search {
    @apply block;
  }
  
  /* Chat layout mobile */
  .chat-mobile {
    @apply flex-col;
  }
  
  .chat-sidebar-mobile {
    @apply w-full h-48 border-b border-r-0;
  }
  
  .chat-window-mobile {
    @apply flex-1;
  }
  
  /* Post cards mobile */
  .post-card-mobile {
    @apply mx-2;
  }
  
  .post-card-mobile .aspect-ratio {
    @apply aspect-[4/3];
  }
  
  /* Form inputs mobile */
  .input-mobile {
    @apply text-base py-3 px-4;
  }
  
  /* Buttons mobile */
  .btn-mobile {
    @apply min-h-[44px] px-4 py-3 text-base;
  }
  
  /* Modal mobile */
  .modal-mobile {
    @apply mx-4 max-w-none;
  }
  
  /* Dropdown mobile */
  .dropdown-mobile {
    @apply w-full max-w-[calc(100vw-2rem)];
  }
  
  /* Emote picker mobile */
  .emote-picker-mobile {
    @apply w-full max-w-[calc(100vw-2rem)] grid-cols-6;
  }
  
  .emote-picker {
    @apply max-w-[calc(100vw-4rem)] right-0 left-auto;
  }
  
  .emote-picker .flex {
    @apply flex-wrap gap-0.5;
  }
}

/* ==================== TOUCH OPTIMIZATIONS ==================== */
@media (hover: none) and (pointer: coarse) {
  /* Touch device optimizations */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }
  
  .hover\:scale-105:hover {
    @apply scale-100;
  }
  
  .hover\:bg-gray-50:hover {
    @apply bg-transparent;
  }
  
  /* Show touch feedback */
  .touch-feedback:active {
    @apply scale-95 bg-gray-100;
  }
}

/* ==================== LANDSCAPE MOBILE ==================== */
@media (max-width: 896px) and (orientation: landscape) {
  .chat-mobile-landscape {
    @apply flex-row;
  }
  
  .chat-sidebar-mobile-landscape {
    @apply w-64 h-full border-r border-b-0;
  }
}

/* ==================== ACCESSIBILITY ==================== */
@media (prefers-reduced-motion: reduce) {
  .transition-all,
  .transition-colors,
  .transition-transform {
    @apply transition-none;
  }
  
  .animate-spin {
    @apply animate-none;
  }
}

/* ==================== SCROLLBAR HIDE ==================== */
.scrollbar-hide {
  -ms-overflow-style: none;  /* Internet Explorer 10+ */
  scrollbar-width: none;  /* Firefox */
}
.scrollbar-hide::-webkit-scrollbar { 
  display: none;  /* Safari and Chrome */
}

/* ==================== USER NAME TRUNCATION ==================== */
.user-name-truncate {
  @apply truncate;
  max-width: 150px;
}

.user-name-truncate-mobile {
  @apply truncate;
  max-width: 100px;
}

/* ==================== TEXT TRUNCATION ==================== */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ==================== MOBILE SEARCH ==================== */
.mobile-search-dropdown {
  @apply shadow-xl;
  max-height: 320px;
}

@media (max-width: 640px) {
  .mobile-search-dropdown {
    @apply text-xs;
  }
  
  .mobile-search-dropdown .touch-target {
    @apply min-h-[44px];
  }
}

/* ==================== COMMENT SECTION ==================== */
.comment-section-mobile {
  @apply overflow-hidden;
  word-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
}

.comment-content {
  @apply break-words;
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
}

/* Emote display overflow fix */
.emote-display {
  @apply flex flex-wrap gap-1 max-w-full overflow-hidden;
  word-wrap: break-word;
  word-break: break-word;
}

.emote-item {
  @apply flex-shrink-0;
  max-width: 80px;
}

/* ==================== EMOTE PICKER ==================== */
.emote-picker-mobile {
  @apply max-w-full;
  min-width: 200px;
  max-width: calc(100vw - 2rem);
}

@media (max-width: 640px) {
  .comment-section-mobile {
    @apply px-2;
  }
  
  .comment-actions-mobile {
    @apply flex-wrap gap-1;
  }
  
  .comment-reply-mobile {
    @apply ml-2;
  }
  
  /* Mobile emote display fixes */
  .emote-display {
    @apply max-w-[calc(100vw-4rem)] gap-0.5;
  }
  
  .emote-item {
    @apply text-xs px-1.5 py-0.5;
    max-width: 60px;
  }
  
  /* Nested comment emote fixes */
  .comment-nested .emote-display {
    @apply max-w-[calc(100vw-6rem)];
  }
  
  .comment-nested .emote-item {
    @apply text-xs px-1 py-0.5;
    max-width: 50px;
  }
  
  /* Emote picker mobile fixes */
  .emote-picker-mobile {
    @apply left-0 right-0;
    max-width: calc(100vw - 1rem);
    transform: translateX(0);
  }
  
  .emote-picker-mobile .flex {
    @apply justify-center;
  }
}

/* ==================== ADMIN DASHBOARD MOBILE ==================== */
@media (max-width: 640px) {
  .admin-table-mobile {
    @apply text-xs;
  }
  
  .admin-card-mobile {
    @apply p-3;
  }
  
  .admin-button-mobile {
    @apply min-h-[36px] px-3 py-2 text-xs;
  }
  
  .admin-stats-mobile {
    @apply grid-cols-1 gap-3;
  }
}

/* ==================== DARK MODE SUPPORT ==================== */
@media (prefers-color-scheme: dark) {
  .dark-mode-mobile {
    @apply bg-gray-900 text-white;
  }
  
  .dark-mode-mobile .card {
    @apply bg-gray-800 border-gray-700;
  }
  
  .dark-mode-mobile .input-mobile {
    @apply bg-gray-700 border-gray-600 text-white;
  }
}
