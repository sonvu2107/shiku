# ğŸŒ Shiku - Máº¡ng xÃ£ há»™i hiá»‡n Ä‘áº¡i

[![GitHub](https://img.shields.io/badge/GitHub-sonvu2107%2Fshiku-blue)](https://github.com/sonvu2107/shiku)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green)](https://nodejs.org/)
[![React](https://img.shields.io/badge/React-18.3-blue)](https://reactjs.org/)
[![MongoDB](https://img.shields.io/badge/MongoDB-7.5-green)](https://www.mongodb.com/)

Shiku lÃ  má»™t ná»n táº£ng máº¡ng xÃ£ há»™i Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng, Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i cÃ´ng nghá»‡ web hiá»‡n Ä‘áº¡i. á»¨ng dá»¥ng cung cáº¥p tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng mÆ°á»£t mÃ  vá»›i cÃ¡c tÃ­nh nÄƒng nhÆ° Ä‘Äƒng bÃ i viáº¿t, nháº¯n tin real-time, há»‡ thá»‘ng báº¡n bÃ¨, nhÃ³m, sá»± kiá»‡n vÃ  nhiá»u hÆ¡n ná»¯a.

## TÃ­nh nÄƒng chÃ­nh

### Máº¡ng xÃ£ há»™i cÆ¡ báº£n
- **BÃ i viáº¿t (Posts)**: Táº¡o, chá»‰nh sá»­a, xÃ³a bÃ i viáº¿t vá»›i há»— trá»£ vÄƒn báº£n, hÃ¬nh áº£nh vÃ  video
- **BÃ¬nh luáº­n (Comments)**: Há»‡ thá»‘ng bÃ¬nh luáº­n lá»“ng nhau (nested comments) vá»›i kháº£ nÄƒng reply, edit, delete
- **Emotes/Reactions**: Tháº£ cáº£m xÃºc cho bÃ i viáº¿t vÃ  bÃ¬nh luáº­n
- **TÃ¬m kiáº¿m & Lá»c**: TÃ¬m kiáº¿m bÃ i viáº¿t, sáº¯p xáº¿p theo má»›i nháº¥t/cÅ© nháº¥t/xem nhiá»u nháº¥t/nhiá»u tÆ°Æ¡ng tÃ¡c nháº¥t
- **Stories**: Chia sáº» khoáº£nh kháº¯c ngáº¯n giá»‘ng Instagram/Facebook Stories
- **Infinite Scroll**: Táº£i bÃ i viáº¿t tá»± Ä‘á»™ng khi cuá»™n trang

### Há»‡ thá»‘ng ngÆ°á»i dÃ¹ng
- **XÃ¡c thá»±c (Authentication)**: ÄÄƒng kÃ½, Ä‘Äƒng nháº­p, quÃªn máº­t kháº©u vá»›i JWT tokens
- **Profile**: Trang cÃ¡ nhÃ¢n vá»›i avatar, bio, thÃ´ng tin cÃ¡ nhÃ¢n
- **Báº¡n bÃ¨ (Friends)**: Gá»­i/nháº­n lá»i má»i káº¿t báº¡n, xem danh sÃ¡ch báº¡n bÃ¨, báº¡n bÃ¨ online
- **Cháº·n ngÆ°á»i dÃ¹ng (Block)**: Cháº·n ngÆ°á»i dÃ¹ng khÃ´ng mong muá»‘n
- **Theo dÃµi online**: Hiá»ƒn thá»‹ tráº¡ng thÃ¡i online/offline cá»§a báº¡n bÃ¨

### Nháº¯n tin & Giao tiáº¿p
- **Chat Real-time**: Nháº¯n tin 1-1 vÃ  nhÃ³m vá»›i Socket.IO
- **Há»— trá»£ media**: Gá»­i hÃ¬nh áº£nh, video trong tin nháº¯n
- **Cuá»™c gá»i**: TÃ­ch há»£p cuá»™c gá»i video/voice (WebRTC)
- **ThÃ´ng bÃ¡o (Notifications)**: ThÃ´ng bÃ¡o real-time vá» hoáº¡t Ä‘á»™ng

### NhÃ³m & Sá»± kiá»‡n
- **NhÃ³m (Groups)**: Táº¡o vÃ  quáº£n lÃ½ nhÃ³m/cá»™ng Ä‘á»“ng
- **Vai trÃ² nhÃ³m**: Owner, Admin, Member vá»›i quyá»n háº¡n khÃ¡c nhau
- **BÃ i viáº¿t nhÃ³m**: ÄÄƒng bÃ i riÃªng trong nhÃ³m
- **Sá»± kiá»‡n (Events)**: Táº¡o vÃ  quáº£n lÃ½ sá»± kiá»‡n vá»›i thá»i gian, Ä‘á»‹a Ä‘iá»ƒm
- **RSVP**: Tham gia/quan tÃ¢m Ä‘áº¿n sá»± kiá»‡n

### TÃ­nh nÄƒng nÃ¢ng cao
- **Media Gallery**: Quáº£n lÃ½ táº¥t cáº£ áº£nh/video Ä‘Ã£ Ä‘Äƒng
- **Saved Posts**: LÆ°u bÃ i viáº¿t yÃªu thÃ­ch Ä‘á»ƒ xem láº¡i
- **Dark Mode**: Cháº¿ Ä‘á»™ tá»‘i/sÃ¡ng
- **Polls**: Táº¡o bÃ¬nh chá»n trong bÃ i viáº¿t
- **Hashtags**: Tá»• chá»©c bÃ i viáº¿t theo chá»§ Ä‘á»
- **Search History**: LÆ°u lá»‹ch sá»­ tÃ¬m kiáº¿m

### Báº£o máº­t & Hiá»‡u nÄƒng
- **CSRF Protection**: Báº£o vá»‡ chá»‘ng Cross-Site Request Forgery
- **Rate Limiting**: Giá»›i háº¡n request Ä‘á»ƒ chá»‘ng spam/DDoS
- **Helmet.js**: Security headers tá»± Ä‘á»™ng
- **JWT Authentication**: Access & Refresh tokens
- **Password Encryption**: MÃ£ hÃ³a máº­t kháº©u vá»›i bcrypt
- **Image Optimization**: Tá»‘i Æ°u hÃ³a hÃ¬nh áº£nh tá»± Ä‘á»™ng
- **Caching**: Cache dá»¯ liá»‡u Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»™
- **Compression**: NÃ©n response Ä‘á»ƒ giáº£m bandwidth

### Quáº£n trá»‹ (Admin)
- **Dashboard**: Thá»‘ng kÃª ngÆ°á»i dÃ¹ng, bÃ i viáº¿t, hoáº¡t Ä‘á»™ng
- **User Management**: Quáº£n lÃ½ ngÆ°á»i dÃ¹ng, ban/unban
- **Content Moderation**: Kiá»ƒm duyá»‡t ná»™i dung
- **Feedback System**: Xem vÃ  quáº£n lÃ½ pháº£n há»“i tá»« ngÆ°á»i dÃ¹ng
- **API Monitoring**: Theo dÃµi hiá»‡u nÄƒng API

## CÃ´ng nghá»‡ sá»­ dá»¥ng

### Frontend
- **React 18.3** - UI framework
- **React Router 6** - Client-side routing
- **TailwindCSS 3.4** - Utility-first CSS
- **Vite 5.4** - Build tool & dev server
- **Socket.IO Client** - Real-time communication
- **Axios** - HTTP client vá»›i retry logic
- **TanStack Query** - Data fetching & caching
- **Lucide React** - Icon library
- **React Markdown** - Markdown rendering
- **IndexedDB** - Client-side storage

### Backend
- **Node.js & Express** - Server framework
- **MongoDB & Mongoose 7.5** - Database
- **Socket.IO 4.8** - WebSocket server
- **JWT** - Authentication tokens
- **Bcrypt** - Password hashing
- **Helmet** - Security middleware
- **CORS** - Cross-origin resource sharing
- **Express Rate Limit** - Rate limiting
- **Multer** - File upload handling
- **Cloudinary** - Image/video hosting
- **Nodemailer** - Email service
- **Sanitize HTML** - XSS protection
- **Morgan** - HTTP request logging

### DevOps & Testing
- **Jest** - Testing framework
- **Supertest** - API testing
- **Nodemon** - Auto-restart server
- **ESLint** - Code linting
- **Prettier** - Code formatting

## Cáº¥u trÃºc dá»± Ã¡n

```
Project_Shiku/
â”œâ”€â”€ client/                 # Frontend React app
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # React components
â”‚   â”‚   â”œâ”€â”€ pages/         # Page components
â”‚   â”‚   â”œâ”€â”€ utils/         # Utility functions
â”‚   â”‚   â”œâ”€â”€ api.js         # API client
â”‚   â”‚   â”œâ”€â”€ socket.js      # Socket.IO client
â”‚   â”‚   â””â”€â”€ App.jsx        # Main app component
â”‚   â”œâ”€â”€ public/            # Static assets
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ server/                # Backend Node.js app
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ models/       # Mongoose models
â”‚   â”‚   â”œâ”€â”€ routes/       # Express routes
â”‚   â”‚   â”œâ”€â”€ middleware/   # Custom middleware
â”‚   â”‚   â”œâ”€â”€ services/     # Business logic
â”‚   â”‚   â”œâ”€â”€ utils/        # Utility functions
â”‚   â”‚   â”œâ”€â”€ config/       # Configuration
â”‚   â”‚   â””â”€â”€ index.js      # Server entry point
â”‚   â”œâ”€â”€ scripts/          # Utility scripts
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ docs/                  # Documentation
â”œâ”€â”€ script_test/          # Testing scripts
â””â”€â”€ migration/            # Database migrations
```

## CÃ i Ä‘áº·t & Cháº¡y

### YÃªu cáº§u há»‡ thá»‘ng
- Node.js 18+ 
- MongoDB 5+
- npm hoáº·c yarn

### BÆ°á»›c 1: Clone repository
```bash
git clone https://github.com/sonvu2107/shiku.git
cd shiku
```

### BÆ°á»›c 2: CÃ i Ä‘áº·t dependencies

**Backend:**
```bash
cd server
npm install
```

**Frontend:**
```bash
cd ../client
npm install
```

### BÆ°á»›c 3: Cáº¥u hÃ¬nh mÃ´i trÆ°á»ng

**Backend** - Táº¡o file `server/.env`:
```env
# Server
PORT=5000
NODE_ENV=development

# Database
MONGODB_URI=mongodb://localhost:27017/shiku

# JWT
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=1h
REFRESH_TOKEN_SECRET=your_refresh_token_secret_here
REFRESH_TOKEN_EXPIRES_IN=7d

# CSRF
CSRF_SECRET=your_csrf_secret_key_here

# Cloudinary (optional)
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# Email (optional)
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_app_password

# Frontend URL
FRONTEND_URL=http://localhost:5173
```

**Frontend** - Táº¡o file `client/.env`:
```env
VITE_API_URL=http://localhost:5000
VITE_SOCKET_URL=http://localhost:5000
```

### BÆ°á»›c 4: Khá»Ÿi Ä‘á»™ng MongoDB
```bash
# Windows
net start MongoDB

# Linux/Mac
sudo systemctl start mongod
```

### BÆ°á»›c 5: Cháº¡y á»©ng dá»¥ng

**Development mode:**

Terminal 1 - Backend:
```bash
cd server
npm run dev
```

Terminal 2 - Frontend:
```bash
cd client
npm run dev
```

á»¨ng dá»¥ng sáº½ cháº¡y táº¡i:
- Frontend: http://localhost:5173
- Backend API: http://localhost:5000

**Production mode:**

Backend:
```bash
cd server
npm start
```

Frontend:
```bash
cd client
npm run build
npm run preview
```

### BÆ°á»›c 6: Táº¡o admin user (optional)
```bash
cd server
npm run create-admin
```

## API Documentation

### Authentication
- `POST /api/auth/register` - ÄÄƒng kÃ½ tÃ i khoáº£n
- `POST /api/auth/login` - ÄÄƒng nháº­p
- `POST /api/auth/logout` - ÄÄƒng xuáº¥t
- `POST /api/auth/refresh` - Refresh access token
- `GET /api/auth/me` - Láº¥y thÃ´ng tin user hiá»‡n táº¡i
- `POST /api/auth/forgot-password` - QuÃªn máº­t kháº©u
- `POST /api/auth/reset-password` - Reset máº­t kháº©u

### Posts
- `GET /api/posts` - Láº¥y danh sÃ¡ch bÃ i viáº¿t
- `GET /api/posts/:id` - Láº¥y chi tiáº¿t bÃ i viáº¿t
- `POST /api/posts` - Táº¡o bÃ i viáº¿t má»›i
- `PUT /api/posts/:id` - Cáº­p nháº­t bÃ i viáº¿t
- `DELETE /api/posts/:id` - XÃ³a bÃ i viáº¿t
- `POST /api/posts/:id/emote` - Tháº£ cáº£m xÃºc
- `POST /api/posts/:id/save` - LÆ°u bÃ i viáº¿t
- `GET /api/posts/saved` - Láº¥y bÃ i viáº¿t Ä‘Ã£ lÆ°u

### Comments
- `GET /api/comments/post/:postId` - Láº¥y comments cá»§a bÃ i viáº¿t
- `POST /api/comments/post/:postId` - Táº¡o comment má»›i
- `PUT /api/comments/:id` - Cáº­p nháº­t comment
- `DELETE /api/comments/:id` - XÃ³a comment
- `POST /api/comments/:id/emote` - Tháº£ cáº£m xÃºc comment

### Friends
- `GET /api/friends` - Láº¥y danh sÃ¡ch báº¡n bÃ¨
- `POST /api/friends/request/:userId` - Gá»­i lá»i má»i káº¿t báº¡n
- `PUT /api/friends/accept/:userId` - Cháº¥p nháº­n lá»i má»i
- `DELETE /api/friends/:userId` - XÃ³a báº¡n bÃ¨
- `GET /api/friends/online` - Láº¥y danh sÃ¡ch báº¡n bÃ¨ online

### Messages
- `GET /api/messages/conversations` - Láº¥y danh sÃ¡ch cuá»™c trÃ² chuyá»‡n
- `GET /api/messages/:conversationId` - Láº¥y tin nháº¯n cá»§a cuá»™c trÃ² chuyá»‡n
- `POST /api/messages` - Gá»­i tin nháº¯n má»›i
- `PUT /api/messages/:id` - Cáº­p nháº­t tin nháº¯n
- `DELETE /api/messages/:id` - XÃ³a tin nháº¯n

### Groups
- `GET /api/groups` - Láº¥y danh sÃ¡ch nhÃ³m
- `GET /api/groups/:id` - Láº¥y chi tiáº¿t nhÃ³m
- `POST /api/groups` - Táº¡o nhÃ³m má»›i
- `PUT /api/groups/:id` - Cáº­p nháº­t nhÃ³m
- `POST /api/groups/:id/join` - Tham gia nhÃ³m
- `POST /api/groups/:id/leave` - Rá»i nhÃ³m

### Events
- `GET /api/events` - Láº¥y danh sÃ¡ch sá»± kiá»‡n
- `GET /api/events/:id` - Láº¥y chi tiáº¿t sá»± kiá»‡n
- `POST /api/events` - Táº¡o sá»± kiá»‡n má»›i
- `PUT /api/events/:id` - Cáº­p nháº­t sá»± kiá»‡n
- `POST /api/events/:id/rsvp` - RSVP sá»± kiá»‡n

## Testing

### Cháº¡y tests
```bash
# Unit tests
cd server
npm test

# API tests
cd script_test
npm test

# Load tests
node script_test/load-test.js
```

### Health check
```bash
node health-check.js
```

## Scripts há»¯u Ã­ch

```bash
# Táº¡o test users
node server/create-test-users.cjs

# Check API endpoints
node script_test/comprehensive-check.js

# Auto-like posts (testing)
.\auto-like-posts.bat

# Show summary
.\show-summary.bat
```

## Hiá»‡u nÄƒng

- **Infinite scroll** vá»›i virtualization cho danh sÃ¡ch dÃ i
- **Image optimization** tá»± Ä‘á»™ng vá»›i Cloudinary
- **Code splitting** vÃ  lazy loading components
- **API caching** vá»›i React Query
- **IndexedDB** cho offline support
- **Compression** cho assets vÃ  API responses
- **CDN** cho static files

## Báº£o máº­t

-  **CSRF Protection** - Báº£o vá»‡ chá»‘ng CSRF attacks
-  **Rate Limiting** - Giá»›i háº¡n request (50/15min dev, 10/15min prod)
-  **Helmet.js** - Security headers tá»± Ä‘á»™ng
-  **JWT Tokens** - Access & Refresh tokens
-  **Password Hashing** - Bcrypt vá»›i salt rounds
-  **Input Validation** - Express-validator & Joi
-  **XSS Protection** - Sanitize HTML input
-  **CORS** - Controlled cross-origin access
-  **HTTPS** - Enforced in production
-  **Environment Variables** - Sensitive data protection

## Deployment

### Railway/Render
Dá»± Ã¡n Ä‘Ã£ Ä‘Æ°á»£c cáº¥u hÃ¬nh sáºµn cho deploy lÃªn Railway/Render:
- `railway.json` - Railway configuration
- `render-config.md` - Render deployment guide
- `RENDER-DEPLOYMENT-GUIDE.md` - Chi tiáº¿t hÆ°á»›ng dáº«n

### Environment Variables Production
Äáº£m báº£o set cÃ¡c biáº¿n mÃ´i trÆ°á»ng sau:
- `NODE_ENV=production`
- `MONGODB_URI` - MongoDB connection string
- `JWT_SECRET` - JWT secret key
- `FRONTEND_URL` - Frontend URL
- CÃ¡c Cloudinary credentials
- Email service credentials

## ÄÃ³ng gÃ³p

Má»i Ä‘Ã³ng gÃ³p Ä‘á»u Ä‘Æ°á»£c chÃ o Ä‘Ã³n! Äá»ƒ Ä‘Ã³ng gÃ³p:

1. Fork repository
2. Táº¡o branch má»›i (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Má»Ÿ Pull Request

## License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t hÃ nh dÆ°á»›i giáº¥y phÃ©p ISC.

## TÃ¡c giáº£

**Son Vu**
- GitHub: [@sonvu2107](https://github.com/sonvu2107)
- Repository: [shiku](https://github.com/sonvu2107/shiku)

## Cáº£m Æ¡n

Cáº£m Æ¡n táº¥t cáº£ cÃ¡c thÆ° viá»‡n vÃ  cÃ´ng cá»¥ open-source Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng trong dá»± Ã¡n nÃ y!

---

â­ Náº¿u báº¡n tháº¥y dá»± Ã¡n nÃ y há»¯u Ã­ch, hÃ£y cho má»™t star trÃªn GitHub!
